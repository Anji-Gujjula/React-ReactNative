npm install -g react-native-cli

npx react-native init FileReceiverApp
cd FileReceiverApp
npm install react-native-websocket
npm install react-native-fs


OPEN   --->  android/app/src/main/AndroidManifest.xml

<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>



App.js


import React, { useEffect } from 'react';
import { View, Text, Button, Alert } from 'react-native';
import WebSocket from 'react-native-websocket';
import RNFS from 'react-native-fs';

const App = () => {
  useEffect(() => {
    const ws = new WebSocket('ws://yourserver.com');

    ws.onopen = () => {
      console.log('WebSocket connection opened');
    };

    ws.onmessage = (e) => {
      const data = e.data; // Assume binary data
      saveFile(data);
    };

    ws.onerror = (e) => {
      console.error('WebSocket error', e.message);
    };

    ws.onclose = (e) => {
      console.log('WebSocket connection closed', e.code, e.reason);
    };

    return () => {
      ws.close();
    };
  }, []);

  const saveFile = (fileData) => {
    const path = RNFS.DocumentDirectoryPath + '/downloadedFile';
    RNFS.writeFile(path, fileData, 'base64')
      .then(() => {
        Alert.alert('File saved', 'The file has been successfully saved');
      })
      .catch((err) => {
        console.error('File save error:', err.message);
      });
  };

  return (
    <View>
      <Text>WebSocket File Receiver</Text>
      <Button title="Connect" onPress={/* Trigger WebSocket connection */} />
    </View>
  );
};

export default App;



npx react-native run-android
